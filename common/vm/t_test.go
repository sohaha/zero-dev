package vm

import (
	"testing"
)

func TestX1(t *testing.T) {
	// tt := zlsgo.NewTest(t)
	// // m := zarray.NewHashMap[string, *model.Model]()
	// // t.Log(m)

	// j, err := zfile.ReadFile("../app/model/news.model.json")
	// t.Log(err, len(j))
	// m, err := model.Add(nil, "test", j, false)
	// tt.NoError(err)
	// t.Log(m.Table.Name)

	// go func() {
	// 	for {
	// 		j, err := zfile.ReadFile("../app/model/news.model.json")
	// 		tt.NoError(err)
	// 		if len(j) > 0 {
	// 			_, err = model.Add(nil, "test", j, true)
	// 			tt.NoError(err)
	// 		} else {
	// 			t.Log("文件为空")
	// 		}

	// 	}
	// }()

	// go func() {
	// 	for {
	// 		m, ok := model.Get("test")
	// 		if !ok {
	// 			os.Exit(5)
	// 		}
	// 		fmt.Println(m.Table.Name)
	// 		time.Sleep(time.Second / 2)
	// 	}
	// }()
	// time.Sleep(time.Second * 10)
	// m.Set("a", &model.Model{Id: 1})
}
